------------------------------------------------------------------------
r133 | vmassol | 2004-10-16 06:59:31 -0400 (Sat, 16 Oct 2004) | 7 lines
Changed paths:
   M /cargo/trunk/ant/src/main/org/codehaus/cargo/ant/CargoTask.java
   M /cargo/trunk/ant/src/test/org/codehaus/cargo/ant/CargoTaskTest.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/Container.java
   A /cargo/trunk/core/src/main/org/codehaus/cargo/container/Installation.java
   A /cargo/trunk/core/src/main/org/codehaus/cargo/container/StandaloneInstallation.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/installer/ZipURLInstaller.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/jetty/Jetty4xEmbeddedContainer.java
   A /cargo/trunk/core/src/main/org/codehaus/cargo/container/jetty/JettyStandaloneInstallation.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/orion/AbstractOrionContainer.java
   A /cargo/trunk/core/src/main/org/codehaus/cargo/container/orion/OrionStandaloneInstallation.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/resin/AbstractResinContainer.java
   A /cargo/trunk/core/src/main/org/codehaus/cargo/container/resin/AbstractResinStandaloneInstallation.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/resin/Resin2xContainer.java
   A /cargo/trunk/core/src/main/org/codehaus/cargo/container/resin/Resin2xStandaloneInstallation.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/resin/Resin3xContainer.java
   A /cargo/trunk/core/src/main/org/codehaus/cargo/container/resin/Resin3xStandaloneInstallation.java
   A /cargo/trunk/core/src/main/org/codehaus/cargo/container/spi/AbstractStandaloneInstallation.java
   A /cargo/trunk/core/src/main/org/codehaus/cargo/container/spi/ContainerInstallation.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/spi/DefaultContainer.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/tomcat/AbstractCatalinaContainer.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/tomcat/AbstractTomcatContainer.java
   A /cargo/trunk/core/src/main/org/codehaus/cargo/container/tomcat/CatalinaStandaloneInstallation.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/tomcat/Tomcat3xContainer.java
   A /cargo/trunk/core/src/main/org/codehaus/cargo/container/tomcat/TomcatStandaloneInstallation.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/weblogic/AbstractWebLogicContainer.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/weblogic/WebLogic8xContainer.java
   A /cargo/trunk/core/src/main/org/codehaus/cargo/container/weblogic/WebLogicStandaloneInstallation.java
   A /cargo/trunk/core/src/test/org/codehaus/cargo/container/spi/AbstractStandaloneInstallationTest.java
   M /cargo/trunk/core/src/test/org/codehaus/cargo/container/spi/DefaultContainerTest.java
   M /cargo/trunk/samples/java/src/test/org/codehaus/cargo/sample/java/CargoTestCase.java

- Added new Installation API (CARGO-52)
- Continue allignment to 100 chars
- Fix for WL implementation which was not implementing the required getId() method

TODO:
- Migrate the Ant tasks to allow users to use the new Installation API

------------------------------------------------------------------------
r134 | vmassol | 2004-10-16 10:35:25 -0400 (Sat, 16 Oct 2004) | 3 lines
Changed paths:
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/ContainerFactory.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/internal/jetty/JettyExecutorThread.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/jetty/Jetty4xEmbeddedContainer.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/orion/Orion1xContainer.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/orion/Orion2xContainer.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/resin/Resin2xContainer.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/resin/Resin3xContainer.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/tomcat/Tomcat3xContainer.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/tomcat/Tomcat4xContainer.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/tomcat/Tomcat5xContainer.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/weblogic/WebLogic8xContainer.java
   M /cargo/trunk/samples/java/src/test/org/codehaus/cargo/sample/java/CargoTestCase.java
   M /cargo/trunk/samples/java/src/test/org/codehaus/cargo/sample/java/WarCapabilityContainerTest.java

- Fixed important bug in the samples where containers were not properly isolated between 2 tests
- Continue alignment to 100 chars
- Prevented unnecessary instantiation of containers in the ContainerFactory class using static IDs
------------------------------------------------------------------------
r135 | vmassol | 2004-10-16 13:58:17 -0400 (Sat, 16 Oct 2004) | 1 line
Changed paths:
   M /cargo/trunk/samples/ant/src/test/org/codehaus/cargo/sample/ant/AntTestCase.java
   M /cargo/trunk/samples/ant/src/testinput/test-cargo.xml

Fix paths so that logs and the test-cargo.xml files are correctly located in the target/ dir
------------------------------------------------------------------------
r136 | vmassol | 2004-10-16 14:08:34 -0400 (Sat, 16 Oct 2004) | 2 lines
Changed paths:
   M /cargo/trunk/samples/ant/src/test/org/codehaus/cargo/sample/ant/AntTestCase.java
   M /cargo/trunk/samples/ant/src/test/org/codehaus/cargo/sample/ant/CargoTaskTestSuite.java
   M /cargo/trunk/samples/ant/src/testinput/test-cargo.xml

- Improved the previous refactoring on the samples/ant/target/ dir (this one seems more natural)
- Turn max logging when running samples/ant
------------------------------------------------------------------------
r137 | vmassol | 2004-10-16 17:27:51 -0400 (Sat, 16 Oct 2004) | 5 lines
Changed paths:
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/StandaloneInstallation.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/internal/resin/ResinRun.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/internal/resources/resin3x/app-default.xml
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/internal/resources/resin3x/resin.conf
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/resin/AbstractResinContainer.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/resin/Resin2xStandaloneInstallation.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/resin/Resin3xContainer.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/resin/Resin3xStandaloneInstallation.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/spi/AbstractStandaloneInstallation.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/spi/DefaultContainer.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/spi/DefaultServerRun.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/tomcat/CatalinaStandaloneInstallation.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/tomcat/TomcatStandaloneInstallation.java
   M /cargo/trunk/core/src/test/org/codehaus/cargo/container/spi/DefaultContainerTest.java
   M /cargo/trunk/samples/ant/src/testinput/test-cargo.xml
   M /cargo/trunk/samples/java/src/test/org/codehaus/cargo/sample/java/CargoTestCase.java

- Fixed CARGO-55 after several hours of tough thinking... :-). It was about closing properly Resin 3.x. This fixed CARGO-51 at the same time
- Modified Cargo logging levels to "low", "medium" and "high" instead of "info", "warning" and "error" which was misleading.
- When the container stops also log the output to the file specified by Container.setOutput()
- Updated Resin 3.x default conf files

------------------------------------------------------------------------
r138 | vmassol | 2004-10-16 17:45:34 -0400 (Sat, 16 Oct 2004) | 1 line
Changed paths:
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/tomcat/CatalinaStandaloneInstallation.java

CARGO-7. Default shutdown port is now 8205 for Tomcat. Also fixes a little bug that would have happened if the user had wanted to change this port using a cargo property...
------------------------------------------------------------------------
r139 | vmassol | 2004-10-16 18:40:53 -0400 (Sat, 16 Oct 2004) | 2 lines
Changed paths:
   M /cargo/trunk/ant/src/main/org/codehaus/cargo/ant/CargoTask.java
   M /cargo/trunk/ant/src/test/org/codehaus/cargo/ant/CargoTaskTest.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/internal/resources/orion1x2x/rmi.xml
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/orion/AbstractOrionContainer.java
   A /cargo/trunk/core/src/main/org/codehaus/cargo/container/orion/OrionPropertySet.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/orion/OrionStandaloneInstallation.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/tomcat/AbstractCatalinaContainer.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/tomcat/CatalinaStandaloneInstallation.java
   M /cargo/trunk/samples/ant/src/testinput/test-cargo.xml

- CARGO-58: Add a "log" attribute to the Cargo Ant tasks
- CARGO-56: Add a cargo.orion.rmi.port property to configure the RMI port. Defined default of 25791.
------------------------------------------------------------------------
r140 | vmassol | 2004-10-17 08:13:03 -0400 (Sun, 17 Oct 2004) | 3 lines
Changed paths:
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/jetty/Jetty4xEmbeddedContainer.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/orion/AbstractOrionContainer.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/resin/AbstractResinContainer.java
   A /cargo/trunk/core/src/main/org/codehaus/cargo/container/spi/AbstractContainer.java
   D /cargo/trunk/core/src/main/org/codehaus/cargo/container/spi/DefaultContainer.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/tomcat/AbstractCatalinaContainer.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/tomcat/AbstractTomcatContainer.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/tomcat/Tomcat3xContainer.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/weblogic/AbstractWebLogicContainer.java
   M /cargo/trunk/core/src/test/org/codehaus/cargo/container/spi/AbstractStandaloneInstallationTest.java
   M /cargo/trunk/core/src/test/org/codehaus/cargo/container/spi/DefaultContainerTest.java

- Refactoring: Renamed DefaultContainer in AbstractContainer
- Refactoring: firm up the container SPI by introducing the doStart()/doStop() methods (start() and stop() are now implemented in AbstractContainer
- Note: At the same time this has fixed a bug with the WL 8.x implementation where the setStarted() method was not called in start()/stop()
------------------------------------------------------------------------
r141 | vmassol | 2004-10-17 08:35:31 -0400 (Sun, 17 Oct 2004) | 2 lines
Changed paths:
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/spi/AbstractContainer.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/weblogic/AbstractWebLogicContainer.java
   M /cargo/trunk/core/src/test/org/codehaus/cargo/container/spi/DefaultContainerTest.java

- Refactoring: Removed default implementation of getCapability() in AbstractContainer as this has to be implemented by classes extending it
- As a consequence, discovered that the WL 8.x implementation did not implement it. Fixed this.
------------------------------------------------------------------------
r142 | vmassol | 2004-10-17 08:53:09 -0400 (Sun, 17 Oct 2004) | 1 line
Changed paths:
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/spi/AbstractContainer.java
   M /cargo/trunk/core/src/test/org/codehaus/cargo/container/spi/DefaultContainerTest.java

Refactoring. Removed getName() and getId() from AbstractContainer to force container implementations to provide them
------------------------------------------------------------------------
r143 | vmassol | 2004-10-17 15:22:31 -0400 (Sun, 17 Oct 2004) | 1 line
Changed paths:
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/Container.java
   A /cargo/trunk/core/src/main/org/codehaus/cargo/container/State.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/spi/AbstractContainer.java
   M /cargo/trunk/samples/java/src/test/org/codehaus/cargo/sample/java/CargoTestCase.java

CARGO-60. Deprecated Container.isStarted() and replaced with a more general Container.getState() returning a State object.
------------------------------------------------------------------------
r144 | vmassol | 2004-10-18 15:18:18 -0400 (Mon, 18 Oct 2004) | 1 line
Changed paths:
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/spi/AbstractContainer.java
   M /cargo/trunk/samples/ant/project.properties
   M /cargo/trunk/samples/ant/src/test/org/codehaus/cargo/sample/ant/CargoTaskTestSuite.java
   M /cargo/trunk/samples/java/project.properties
   M /cargo/trunk/samples/java/src/test/org/codehaus/cargo/sample/java/AllContainerTest.java
   M /cargo/trunk/samples/java/src/test/org/codehaus/cargo/sample/java/EarCapabilityContainerTest.java
   M /cargo/trunk/samples/java/src/test/org/codehaus/cargo/sample/java/WarCapabilityContainerTest.java

Wire missing WebLogic 8.x support in the samples/java and samples/ant tests
------------------------------------------------------------------------
r145 | vmassol | 2004-10-18 15:36:18 -0400 (Mon, 18 Oct 2004) | 1 line
Changed paths:
   M /cargo/trunk/samples/ant/project.properties
   M /cargo/trunk/samples/java/project.properties

Forgot to pass the properties to the JUnit tests
------------------------------------------------------------------------
r146 | vmassol | 2004-10-18 16:28:12 -0400 (Mon, 18 Oct 2004) | 1 line
Changed paths:
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/weblogic/AbstractWebLogicContainer.java
   M /cargo/trunk/core/src/main/org/codehaus/cargo/container/weblogic/WebLogicStandaloneInstallation.java

Started fixing WL 8.x implementation. Still not working for the expandedwar test + still failing for one EAR test
------------------------------------------------------------------------
r147 | vmassol | 2004-10-18 17:02:59 -0400 (Mon, 18 Oct 2004) | 3 lines
Changed paths:
   M /cargo/trunk/samples/java/src/testinput/empty.ear

Added DTD to application.xml (this seems to be required by WL 8.x) + added required <display-name> element (again which seems to be required by WL 8.x). There is still something choking WL 8.x but I can't find what it is yet. The error is:

[org.xml.sax.SAXParseException: The content of element type "application" is incomplete, it must match "(icon?,display-name,description?,module+,security-role*)".] - with nested exception:
------------------------------------------------------------------------
r148 | vmassol | 2004-10-18 17:13:58 -0400 (Mon, 18 Oct 2004) | 1 line
Changed paths:
   M /cargo/trunk/samples/java/src/testinput/empty.ear

Add a java module as the application.xml requires at least one <module>.
------------------------------------------------------------------------
